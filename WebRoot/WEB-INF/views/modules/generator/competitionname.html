<!DOCTYPE html>
<html>
<head>
<title></title>
<#include "/header.html">
</head>
<body>
<div id="rrapp" v-cloak>
	<div v-show="showList">
		<div class="grid-btn">
			<#if shiro.hasPermission("competitionname:save")>
            <a class="btn btn-primary" @click="add"><i class="fa fa-plus"></i>&nbsp;新增</a>
			</#if>
			<#if shiro.hasPermission("competitionname:update")>
            <a class="btn btn-primary" @click="update"><i class="fa fa-pencil-square-o"></i>&nbsp;修改</a>
			</#if>
			<#if shiro.hasPermission("competitionname:delete")>
            <a class="btn btn-primary" @click="del"><i class="fa fa-trash-o"></i>&nbsp;删除</a>
			</#if>
		
            <a class="btn btn-primary" @click="download"><i class="fa fa-trash-o"></i>&nbsp;下载报名模板</a>
		
		</div>
	    <table id="jqGrid"></table>
	    <div id="jqGridPager"></div>
    </div>
    
    <div v-show="!showList" class="panel panel-default">
		<div class="panel-heading">{{title}}</div>
		<form class="form-horizontal" action="/MyRen/competitionname/save" method="post" id="form1"
		enctype="multipart/form-data" target="hidden_frame">
					<div class="form-group">
			   	<div class="col-sm-2 control-label">赛事名称</div>
			   	<div class="col-sm-10" >
			      <input name="name" type="text" class="form-control" v-model="competitionName.name" placeholder=""/>
			    </div>
			</div>
									<div class="form-group">
			   	<div class="col-sm-2 control-label">赛事类型</div>
			   	<div class="col-sm-10">
						<select name="type" class="form-control" v-model="competitionName.type">
							<option value="0">竞技赛事</option>
							<option value="1">群众赛事</option>
							</select>
					</div>
			</div>
									<div class="form-group">
			   	<div class="col-sm-2 control-label">报名开始时间</div>
			   	<div class="col-sm-10">
			      <input name="start_date" type="text" class="form-control" v-model="competitionName.signStartDate" placeholder=""/>
			    </div>
			</div>
									<div class="form-group">
			   	<div class="col-sm-2 control-label">报名截止时间</div>
			   	<div class="col-sm-10">
			      <input name="end_date" type="text" class="form-control" v-model="competitionName.signEndDate" placeholder=""/>
			    </div>
			</div>
									<div class="form-group">
			   	<div class="col-sm-2 control-label">限制报名账号</div>
			   	<div class="col-sm-10">
			      <input name="limit_account" type="text" class="form-control" v-model="competitionName.limitAccount" placeholder=""/>
			    </div>
			</div>
									<div class="form-group">
			   	<div class="col-sm-2 control-label">备注</div>
			   	<div class="col-sm-10">
			      <input name="note" type="text" class="form-control" v-model="competitionName.note" placeholder=""/>
			    </div>
			</div>
					<div class="form-group" id="d_upload">
					<div class="col-sm-2 control-label">上传报名模板</div>
					<div class="col-sm-10">
						<input name="files" type="file" class="form-control" placeholder=""
										style="padding: 0.2em 0.5em;">
					</div>
				</div>
							<div class="form-group">
				<div class="col-sm-2 control-label"></div> 
				<input type="button" class="btn btn-primary" @click="upload" value="确定"/>
				&nbsp;&nbsp;<input type="button" class="btn btn-warning" @click="reload" value="返回"/>
			<input id="isSave" hidden="hidden" value="0"/>
			</div>
		</form>
	</div>
</div>
<iframe id="hidden_frame" name="hidden_frame" style="display:none"></iframe>
<script src="${request.contextPath}/statics/js/modules/generator/competitionname.js?_${.now?long}"></script>
</body>
</html>